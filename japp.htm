<!DOCTYPE html>
<html lang="en">
<head>
    <title>Jitsi</title>
	<meta charset="utf-8" />
	<script src='https://meet.jit.si/external_api.js'></script>
	<style>
		body { 	font-family:Segoe UI,Verdana,Geneva,sans-serif; padding:0; margin:0; overflow:hidden }
	</style>
	
</head>
<body>
<script>

	let v=window.location.search.substring(1).split("&");
	let ua=window.navigator.userAgent;
	let isIos=!!ua.match(/iPad/i) || !!ua.match(/iPhone/i);
	let isWebkit=!!ua.match(/WebKit/i);
	let isSafari=isIos && isWebkit && !ua.match(/CriOS/i);
	let isAndroid=ua.match(/android/i);
	let deep=(isAndroid || isSafari);
	const domain = 'meet.jit.si';
	const options = {
		roomName: v[0],
		width: "100%",height:window.innerHeight,
		interfaceConfigOverwrite:{ "TOOLBAR_BUTTONS": [
        							'microphone', 'camera', 'desktop', 'fullscreen',
        							'hangup','settings', 'raisehand',
        							'videoquality', 'filmstrip', 'tileview' ],
									"VIDEO_QUALITY_LABEL_DISABLED": true,
									"SHOW_CHROME_EXTENSION_BANNER": false
								},
		configOverwrite: { enableInsecureRoomNameWarning: false, prejoinPageEnabled: false,  disableDeepLinking:deep },
		parentNode: document.querySelector('body'),
		};
	const api = new JitsiMeetExternalAPI(domain, options);
	api.executeCommand('displayName',v[1] ? v[1] :"");
	window.addEventListener("beforeunload",  ()=>{ api.displose();	});

/*
	api.addEventListeners({
		videoConferenceJoined: ()=>{
			let i,p=api.getParticipantsInfo(); 
			for (i=0;i<p.length;++i) 
				if (p[i].displayName && p[i].displayName.match(/*)) {
					api.resizeLargeVideo("50%", "50%");
					api.pinParticipant(p[i].participantId);
						api.setLargeVideoParticipant(p[i].participantId);
					}
			}
		});	 
*/

	function trace(msg, p1, p2, p3, p4)										// CONSOLE 
	{
		if (p4 != undefined)
			console.log(msg,p1,p2,p3,p4);
		else if (p3 != undefined)
			console.log(msg,p1,p2,p3);
		else if (p2 != undefined)
			console.log(msg,p1,p2);
		else if (p1 != undefined)
			console.log(msg,p1);
		else
			console.log(msg);
	}


</script>
</body>
</html>

